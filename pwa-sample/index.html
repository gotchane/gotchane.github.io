<html>
<head>
  <link rel="manifest" href="./manifest.json">
  <title>QR scan sample</title>
  <script id="qr-scan" src="./js/qr-scan.js"></script>
  <script id="qr-jsqr" src="./js/jsQR.js"></script>
  <link href="./css/style.css" rel="stylesheet" type="text/css" />
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./js/service-worker.js').then(function() {
        console.log('Service Worker Registered');
      });
    }
  </script>
</head>
<body>
  <h1>QR Scan Sample</h1>

  <div id="loadingMessage">🎥 Unable to access video stream (please make sure you have a webcam enabled)</div>
  <canvas id="canvas" hidden></canvas>
  <div id="output" hidden>
    <div id="outputMessage">No QR code detected.</div>
    <div hidden><b>Data:</b> <span id="outputData"></span></div>
  </div>

  <button onclick="createDB()">データベース作成</button>
  <button onclick="updateDB()">テーブル作成</button>
  <button onclick="insertDB('qrDb', 'qr_results', 'val_timestamp')">データ追加</button>
  <button onclick="deleteDB()">データベース削除</button>

  <h2>Scan Results</h2>
  <ul id="qr-scan-result-list"></ul>

</body>
</html>
